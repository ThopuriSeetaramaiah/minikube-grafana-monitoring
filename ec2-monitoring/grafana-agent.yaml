server:
  log_level: info

metrics:
  global:
    scrape_interval: 15s
    remote_write:
      - url: YOUR_GRAFANA_CLOUD_PROMETHEUS_URL
        basic_auth:
          username: YOUR_GRAFANA_CLOUD_USER_ID
          password: YOUR_GRAFANA_CLOUD_API_KEY

  configs:
    - name: ec2-monitoring
      scrape_configs:
        - job_name: 'node-exporter'
          static_configs:
            - targets: ['localhost:9100']
          
        - job_name: 'grafana-agent'
          static_configs:
            - targets: ['localhost:12345']

logs:
  configs:
    - name: ec2-logs
      clients:
        - url: YOUR_GRAFANA_CLOUD_LOKI_URL
          basic_auth:
            username: YOUR_GRAFANA_CLOUD_USER_ID
            password: YOUR_GRAFANA_CLOUD_API_KEY
      scrape_configs:
        - job_name: system-logs
          static_configs:
            - targets: [localhost]
              labels:
                job: system-logs
                __path__: /var/log/*.log
